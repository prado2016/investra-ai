<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/investra-logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Investra - AI-powered portfolio management and investment analytics platform" />
    <meta name="keywords" content="investra, AI investing, portfolio management, investment analytics, financial AI, smart investing" />
    <meta name="author" content="Investra - AI-Powered Investment Analytics" />
    <meta name="theme-color" content="#CA8A04" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/svg+xml" href="/investra-logo.svg" />
    <title>Investra - AI-Powered Investment Analytics</title>
    <script>
      (function() {
        // Check for specific test environment indicators (not just HTTP)
        const isTestEnv = 
          // Only consider it a test environment if we're in a test browser
          /headless|playwright/i.test(navigator.userAgent) ||
          // Or if we have explicit test flags from the test framework
          (window.location.hostname === 'localhost' && 
           window.location.port === '5173' &&
           (window.location.search.includes('e2e-test=true') ||
            localStorage.getItem('__E2E_TEST_MODE__') === 'true' ||
            window.__E2E_TEST_MODE__ === true));
          
        if (isTestEnv) {
          console.log('ðŸš¨ Emergency E2E mode activated by index.html script');
          window.__E2E_TEST_MODE__ = true;
          window.__CI_TEST_MODE__ = true;
          window.__EMERGENCY_E2E_MODE__ = true;
          localStorage.setItem('__E2E_TEST_MODE__', 'true');
          localStorage.setItem('__CI_TEST_MODE__', 'true');
          localStorage.setItem('__AUTH_BYPASS__', 'true');
          localStorage.setItem('__EMERGENCY_E2E_MODE__', 'true');
        } else {
          // NOT in test environment - clear any old E2E flags
          console.log('ðŸ§¹ Clearing old E2E test flags from production environment');
          localStorage.removeItem('__E2E_TEST_MODE__');
          localStorage.removeItem('__CI_TEST_MODE__');
          localStorage.removeItem('__AUTH_BYPASS__');
          localStorage.removeItem('__EMERGENCY_E2E_MODE__');
          // Clear window flags too
          delete window.__E2E_TEST_MODE__;
          delete window.__CI_TEST_MODE__;
          delete window.__EMERGENCY_E2E_MODE__;
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
